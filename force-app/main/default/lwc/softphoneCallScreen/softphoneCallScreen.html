<template>
    <lightning-card title="" icon-name="standard:call" class="container">
        <div lwc:if={incoming}
            class="media slds-grid slds-grid_vertical slds-align_absolute-center slds-text-align_center slds-p-around_medium">
            <div class="slds-m-around_medium">
                <p class="slds-text-title_bold">Incoming Call...</p>
            </div>
            <img class="avatar slds-m-top_medium" src={humancontactpersonicon} alt="Profile Picture" />
            <div>
                <p class="slds-text-heading_medium slds-m-top_medium">{callerName}</p>
                <p class="slds-text-body_regular ">{callerNumber}</p>
            </div>
            <div class="slds-grid slds-grid_align-spread callImg">
                <lightning-button label="Decline" variant="destructive" onclick={rejectIncomingCall} icon-name="utility:end_call" class="slds-button callButton"></lightning-button>
                <lightning-button label="Accept" variant="success" onclick={handleAcceptCall} icon-name="utility:call" class="slds-button callButton buttonTextColor"></lightning-button>
            </div>
        </div>
        <div lwc:elseif={received}
            class="media slds-grid slds-grid_vertical slds-align_absolute-center slds-text-align_center slds-p-around_medium">
            <div class="slds-m-around_medium">
                <p class="slds-text-title_bold">Call Ongoing...</p>
            </div>
            <div class="slds-m-around_medium">
                <img class="avatar" src={humancontactpersonicon} alt="Profile Picture" />
            </div>
            <div>
                <p class="slds-text-heading_medium">{callerName}</p>
                <p class="slds-text-body_regular ">{callerNumber}</p>
                <p class="slds-text-body_small">{callDuration}</p>
            </div>
            <div class="slds-m-around_medium utility-icon">
                <lightning-button-icon icon-name="utility:note" alternative-text="Notes"
                    onclick={handleOpenPopup}></lightning-button-icon>
            </div>
            <c-popup-notes show={showPopup} title="Call Notes" onclose={handleClosePopup}></c-popup-notes>
            <div class="slds-m-around_medium" style="margin-top: 54%; margin-bottom: 20%;">
                <lightning-button label="Decline" variant="destructive" onclick={handleEndCall} icon-name="utility:end_call" class="slds-button callButton"></lightning-button>
            </div>
        </div>                  
        <div lwc:elseif={outgoing}
            class="media slds-grid slds-grid_vertical slds-align_absolute-center slds-text-align_center slds-p-around_medium">
            <div class="slds-m-around_medium">
                <p class="slds-text-title_bold">Ringing...</p>
            </div>
            <div class="slds-m-around_medium">
                <img class="avatar" src={humancontactpersonicon} alt="Profile Picture" />
            </div>
            <div>
                <p class="slds-text-heading_medium">{callerName}</p>
                <p class="slds-text-body_regular ">{callerNumber}</p>
            </div>
            <div class="slds-m-around_medium slds-m-top_xx-large" style="margin-top: 60%; margin-bottom: 20%;">
                <lightning-button label="Decline" variant="destructive" onclick={handleEndCall} icon-name="utility:end_call" class="slds-button callButton"></lightning-button>
            </div>
        </div>
    </lightning-card>
</template>